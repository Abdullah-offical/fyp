{% load static %}

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;300;400;500;600;700;800;900&display=swap"
    rel="stylesheet">

  <title>{% block title %}Blueprint Generator{% endblock %}</title>

  <!-- Bootstrap core CSS -->
  <link href="{% static 'vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">


  <!-- Additional CSS Files -->
  <link rel="stylesheet" href="{% static 'assets/css/fontawesome.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/templatemo-villa-agency.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/owl.css' %}">
  <link rel="stylesheet" href="{% static 'assets/css/animate.css' %}">
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
  <!--

TemplateMo 591 villa agency

https://templatemo.com/tm-591-villa-agency

-->
</head>

<body>

  <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->


  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo Start ***** -->
            <a href="{% url 'core:home' %}" class="logo">
              <h1>BlueprintPro</h1>
            </a>
            <!-- ***** Logo End ***** -->
            <!-- ***** Menu Start ***** -->
            <ul class="nav">
              <li><a href="{% url 'core:generate_blueprint' %}" class="{% if request.resolver_match.view_name == 'core:generate_blueprint' %}active{% endif %}">Generate Blueprint</a></li>
              <li><a href="{% url 'core:home' %}" class="{% if request.resolver_match.view_name == 'core:home' %}active{% endif %}">Home</a></li>

              <li><a href="{% url 'core:property_details' %}" class="{% if request.resolver_match.view_name == 'core:property_details' %}active{% endif %}">Blueprints</a></li>
              <li><a href="{% url 'core:contact' %}" class="{% if request.resolver_match.view_name == 'core:contact' %}active{% endif %}">Contact Us</a></li>

              {% if user.is_authenticated %}
              <li>
              <li style="text-align: center; cursor:pointer">
                <a href="{% url 'accounts:logout' %}" class="btn btn-danger btn-sm" style="padding-left: 20px;">
                  Logout
                </a>
              </li>
              {% else %}
              <li><a href="{% url 'accounts:login' %}">Login</a></li>
              <li style="text-align: center; cursor:pointer"><a style="padding-left: 20px;  "
                  href="{% url 'accounts:register' %}">Sign Up</a></li>
              {% endif %}
            </ul>
            <a class='menu-trigger'>
              <span>Menu</span>
            </a>
            <!-- ***** Menu End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>

  {% if messages %}
  <div class="container mt-3" id="flash-messages">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show"
           role="alert"
           data-autohide="{% if 'success' in message.tags or 'info' in message.tags %}true{% else %}false{% endif %}">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}
  </div>
{% endif %}



  {% block content %}{% endblock %}


  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 mx-auto text-center">
          <p>Copyright Â© 2025 BlueprintPro Co., Ltd. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>


  <!-- Scripts -->
  <!-- Bootstrap core JavaScript -->
  <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
  <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
  <script src="{% static 'assets/js/isotope.min.js' %}"></script>
  <script src="{% static 'assets/js/owl-carousel.js' %}"></script>
  <script src="{% static 'assets/js/counter.js' %}"></script>
  <script src="{% static 'assets/js/custom.js' %}"></script>

  <script>
document.addEventListener('DOMContentLoaded', function () {
  const box = document.getElementById('flash-messages');
  if (!box) return;
  box.querySelectorAll('.alert').forEach(function (el) {
    const autohide = el.getAttribute('data-autohide') === 'true';
    if (!autohide) return;
    setTimeout(function () {
      try {
        if (window.bootstrap && bootstrap.Alert) {
          const inst = bootstrap.Alert.getOrCreateInstance(el);
          inst.close(); // uses Bootstrap's dismiss animation
        } else {
          // Fallback if Bootstrap JS isn't present
          el.classList.remove('show');
          el.style.transition = 'opacity .3s ease';
          el.style.opacity = '0';
          setTimeout(() => el.remove(), 300);
        }
      } catch (e) {
        el.remove();
      }
    }, 5000); // 5 seconds
  });
});
</script>


  {% block extra_js %}{% endblock %}
</body>

</html>